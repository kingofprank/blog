---
title: 输入和输出
date: 2015-08-12 21:03:00
tags: [杂项]
---
各种输入输出大法，控制格式是AC的第一步。
<!--more-->
# 输入

## scanf
scanf是最经常用到的一种输入格式，便于控制，速度快。
### 格式
```cpp
scanf("<格式说明字符串>",<变量地址>);
常用说明字符串:
%d//int		%lld//long long int		%f//float		%lf//double
%s//字符串	%c//字符
```
### 返回值
scanf返回**成功赋值的数据项数**，读到文件末尾出错时则返回EOF。成功的项数意味着，如果成功读入一项则返回1，两项则返回2。注意**EOF就是-1，意味着末尾，需要注意的是EOF不是文件自带的，它是一个函数，当文件读到最后一个字符的时候还没有返回，文件继续读，发现已经没有可以读取的字符的时候，调用EOF函数返回-1**
### 细节
* 用`scanf("%s",s)`在读字符串的时候读到`space、'\n'、'\0'`就停止，并在字符串的末尾补充上一个'\0'，但并不会吃掉'\n'，所以要注意如果下面有需要的话要把换行符用getchar()吃掉。

* 用`scanf("%c",&s)`,则会吃任何字符包括`space、'\n'、'\0'`。

* **`' '`和`'\0'`**不是一个东西！

* 当读取错误的时候，没被读进来的那个东西仍然保留在缓存区当中，等待下一次读取。

* 相对于`scanf("%s",s)`而言一个一个的读取`scanf("%c",&c)`更慢

## getchar
getchar是一种方便的读取字符的输入形式，只会读取单个字符，经常用于`scanf("%c",&s)`前后的吃掉换行的工作。
### 格式
```cpp
getchar(stdin)；
```
### 返回值
返回一个int形的整数，ascii码，出错返回-1。
### 细节
* 可以用于调试的时候暂停

## cin
cin是一种输入流,写法比较方便,不必控制格式，但是速度稍微慢点，大数据情况不建议使用，string类只能用cin来输入。

### 格式
```cpp
cin>>temp;
```
### 细节

* cin是一个类,这个类重载了'>>'这个操作符。

* cin会首先读取缓存区的内容，所以如果缓存区内容错误，有可能陷入死循环，用`cin.clear()`来清空缓存区。 

* cin读取到`space、'\n'`就停止，与scanf不同的是，cin丢弃缓冲区内的空格和换行，也就是说cin不读入换行和空格。
```cpp
char s[100],temp;
cin>>s>>temp;
```
当输入`'123 1\n'`或者`'123\n1\n'`的时候,s=123,temp=1，空格和换行都被丢弃。

* cin是可以加速的，因为默认的时候cin和stdin保持同步，这是为了兼容，保证文件指针不会混乱，但是这个开销其实可以禁止。只需要加上`std::ios::sync_with_stdio(false);`这个语句就可以取消同步，速度堪比scanf，但是要注意不要与scanf混用。

## gets
gets用来强制读取一行字符，读取到换行符为止，中间的空格都读进来

### 格式
```cpp
gets(s);
```

### 返回值
gets的返回值是指针，当读取错误的时候返回NULL。

### 细节

* gets()会吃掉`'\n'`，但是会用`'\0'`代替掉，也就是说gets()读取完一行后强制在结尾加上`'\0'`，舍弃掉`'\n'`。`'\n'`不会留在缓存区。经常用来强制读一行，很方便。

# 输出

## printf
这个是最经常用到的输出，可以很方便的控制格式。

### 格式
```cpp
printf("%d",d);
```
### 返回值
printf函数类型为整形，返回值为实际控制输出的字符数。

### 细节
* 用`"%m.n"`来控制输出宽度和保留小数点的精度。

## cout
较少使用，因为速度慢。但是方便。如果有string只能用cout输出，可以加速。
### 格式
```cpp
cout<<s<<endl;//endl用来输出一个回车
```


